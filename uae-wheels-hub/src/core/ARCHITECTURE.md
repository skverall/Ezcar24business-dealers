# ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ Ğ¼Ğ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

## ğŸ—ï¸ ĞĞ±Ñ‰Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      React Components                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Login   â”‚  â”‚Dashboard â”‚  â”‚  Browse  â”‚  â”‚ CarDetailâ”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜   â”‚
â”‚       â”‚             â”‚              â”‚             â”‚          â”‚
â”‚       â”‚             â”‚              â”‚             â”‚          â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                            â”‚                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                             â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚  FeatureErrorBoundary   â”‚â—„â”€â”€â”€â”€â”€â”€â”€ Ğ›Ğ¾Ğ²Ğ¸Ñ‚ React Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
               â”‚  (wrap major features)  â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚   ErrorBoundary (Root)  â”‚â—„â”€â”€â”€â”€â”€â”€â”€ Ğ›Ğ¾Ğ²Ğ¸Ñ‚ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                                       â”‚
        â–¼                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Logger Serviceâ”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ ErrorHandler    â”‚
â”‚               â”‚                    â”‚                 â”‚
â”‚ â€¢ debug()     â”‚                    â”‚ â€¢ handle()      â”‚
â”‚ â€¢ info()      â”‚                    â”‚ â€¢ handleSilent()â”‚
â”‚ â€¢ warn()      â”‚                    â”‚ â€¢ Result<T>     â”‚
â”‚ â€¢ error()     â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚               â”‚                             â–²
â”‚ Buffer: []    â”‚                             â”‚
â”‚ Auto-flush    â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                            â”‚   Error Classes  â”‚
        â”‚                            â”‚                  â”‚
        â”‚                            â”‚ â€¢ AppError       â”‚
        â”‚                            â”‚ â€¢ ApiError       â”‚
        â”‚                            â”‚ â€¢ AuthError      â”‚
        â”‚                            â”‚ â€¢ ValidationErrorâ”‚
        â”‚                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Supabase: application_logs            â”‚
â”‚                                               â”‚
â”‚  id | timestamp | level | message | context  â”‚
â”‚ â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚ ... | 2025-...  | error | Failed  | {...}    â”‚
â”‚ ... | 2025-...  | info  | Success | {...}    â”‚
â”‚                                               â”‚
â”‚  + Row Level Security (RLS)                   â”‚
â”‚  + Auto cleanup (30 days)                     â”‚
â”‚  + Indexes for fast queries                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ĞŸĞ¾Ñ‚Ğ¾Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### 1. Ğ£ÑĞ¿ĞµÑˆĞ½Ğ°Ñ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ñ
```
User clicks "Save Listing"
         â”‚
         â–¼
Component calls saveListing()
         â”‚
         â–¼
logger.info("Saving listing", { userId, data })
         â”‚
         â–¼
Buffer: [{ level: "info", message: "Saving listing", ... }]
         â”‚
         â–¼
Supabase API call succeeds
         â”‚
         â–¼
logger.info("Listing saved", { listingId })
         â”‚
         â–¼
Buffer: [
  { level: "info", message: "Saving listing", ... },
  { level: "info", message: "Listing saved", ... }
]
         â”‚
         â–¼ (Ğ¿Ğ¾ÑĞ»Ğµ 5 ÑĞµĞº Ğ¸Ğ»Ğ¸ 10 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹)
Logger.flush() â†’ Supabase.insert(buffer)
         â”‚
         â–¼
âœ… Ğ›Ğ¾Ğ³Ğ¸ Ğ² Ğ‘Ğ”
```

### 2. ĞÑˆĞ¸Ğ±ĞºĞ° Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¾Ğ¹
```
User enters invalid email
         â”‚
         â–¼
Component validates form
         â”‚
         â–¼
throw new ValidationError("Invalid email", "email")
         â”‚
         â–¼
catch block â†’ errorHandler.handle(error)
         â”‚
         â”œâ”€â”€â–º logger.error("Validation failed", { error })
         â”‚           â”‚
         â”‚           â–¼
         â”‚    Buffer Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°
         â”‚           â”‚
         â”‚           â–¼
         â”‚    ĞĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ flush (Ğ´Ğ»Ñ errors)
         â”‚           â”‚
         â”‚           â–¼
         â”‚    âŒ Ğ›Ğ¾Ğ³ Ğ² Ğ‘Ğ”
         â”‚
         â””â”€â”€â–º toast.error("email: Invalid email")
                     â”‚
                     â–¼
              User Ğ²Ğ¸Ğ´Ğ¸Ñ‚ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
```

### 3. React ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ ÑƒĞ¿Ğ°Ğ»
```
Component.render() throws Error
         â”‚
         â–¼
ErrorBoundary.componentDidCatch()
         â”‚
         â”œâ”€â”€â–º logger.error("ErrorBoundary caught", {
         â”‚      feature: "Dashboard",
         â”‚      componentStack,
         â”‚      stack
         â”‚    })
         â”‚           â”‚
         â”‚           â–¼
         â”‚    âŒ Ğ›Ğ¾Ğ³ Ğ² Ğ‘Ğ”
         â”‚
         â””â”€â”€â–º setState({ hasError: true })
                     â”‚
                     â–¼
              ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Fallback UI
                     â”‚
                     â–¼
              User Ğ²Ğ¸Ğ´Ğ¸Ñ‚ "Try Again" ĞºĞ½Ğ¾Ğ¿ĞºÑƒ
```

---

## ğŸ”„ Ğ–Ğ¸Ğ·Ğ½ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ†Ğ¸ĞºĞ» Ğ»Ğ¾Ğ³Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              1. Creation                            â”‚
â”‚                                                     â”‚
â”‚  logger.error("message", { context })               â”‚
â”‚         â”‚                                           â”‚
â”‚         â–¼                                           â”‚
â”‚  LogEntry created:                                  â”‚
â”‚  {                                                  â”‚
â”‚    timestamp: "2025-12-07T...",                     â”‚
â”‚    level: "error",                                  â”‚
â”‚    message: "message",                              â”‚
â”‚    context: { sanitized },  â—„â”€â”€ passwords removed  â”‚
â”‚    url: window.location.href,                      â”‚
â”‚    user_agent: navigator.userAgent                 â”‚
â”‚  }                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              2. Buffering                           â”‚
â”‚                                                     â”‚
â”‚  buffer.push(entry)                                 â”‚
â”‚                                                     â”‚
â”‚  Buffer size: [â– â– â– â–¡â–¡â–¡â–¡â–¡â–¡â–¡] (3/10)                   â”‚
â”‚                                                     â”‚
â”‚  IF buffer.length >= 10 OR level === "error":      â”‚
â”‚    â†’ flush()                                        â”‚
â”‚  ELSE:                                              â”‚
â”‚    â†’ schedule flush in 5 seconds                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              3. Flushing                            â”‚
â”‚                                                     â”‚
â”‚  Get current user_id                                â”‚
â”‚  Add user_id to all entries                        â”‚
â”‚                                                     â”‚
â”‚  supabase.from("application_logs").insert(buffer)   â”‚
â”‚         â”‚                                           â”‚
â”‚         â”œâ”€â”€â–º Success â†’ buffer cleared               â”‚
â”‚         â”‚                                           â”‚
â”‚         â””â”€â”€â–º Error â†’ fallback to console.table()   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              4. Storage (Supabase)                  â”‚
â”‚                                                     â”‚
â”‚  INSERT INTO application_logs (...)                 â”‚
â”‚                                                     â”‚
â”‚  RLS Policies check:                                â”‚
â”‚  âœ“ User can insert own logs                        â”‚
â”‚  âœ“ Admins can view all logs                        â”‚
â”‚  âœ“ Users can view own logs                         â”‚
â”‚                                                     â”‚
â”‚  Indexes used for fast queries:                    â”‚
â”‚  â€¢ idx_application_logs_timestamp                  â”‚
â”‚  â€¢ idx_application_logs_level                      â”‚
â”‚  â€¢ idx_application_logs_user_id                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              5. Analysis                            â”‚
â”‚                                                     â”‚
â”‚  Developer opens Supabase Dashboard                 â”‚
â”‚         â”‚                                           â”‚
â”‚         â–¼                                           â”‚
â”‚  SELECT * FROM application_logs                     â”‚
â”‚  WHERE level = 'error'                              â”‚
â”‚  ORDER BY created_at DESC                           â”‚
â”‚         â”‚                                           â”‚
â”‚         â–¼                                           â”‚
â”‚  ğŸ“Š View all errors with full context               â”‚
â”‚                                                     â”‚
â”‚  Click on error â†’ see:                             â”‚
â”‚  â€¢ What user did (context)                         â”‚
â”‚  â€¢ When (timestamp)                                â”‚
â”‚  â€¢ Where (url)                                     â”‚
â”‚  â€¢ Stack trace                                     â”‚
â”‚  â€¢ User agent                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              6. Cleanup                             â”‚
â”‚                                                     â”‚
â”‚  Cron job runs daily at 2 AM                       â”‚
â”‚         â”‚                                           â”‚
â”‚         â–¼                                           â”‚
â”‚  cleanup_old_application_logs()                     â”‚
â”‚         â”‚                                           â”‚
â”‚         â–¼                                           â”‚
â”‚  DELETE FROM application_logs                       â”‚
â”‚  WHERE created_at < NOW() - INTERVAL '30 days'     â”‚
â”‚         â”‚                                           â”‚
â”‚         â–¼                                           â”‚
â”‚  âœ“ Old logs removed                                â”‚
â”‚  âœ“ Database space freed                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ›¡ï¸ Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### 1. Sanitization (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸)
```typescript
const context = {
  email: "user@example.com",
  password: "secret123",      // âŒ Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾
  token: "Bearer abc123",     // âŒ Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾
  apiKey: "sk_live_xyz"       // âŒ Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾
};

// ĞŸĞ¾ÑĞ»Ğµ sanitization:
const sanitized = {
  email: "user@example.com",
  password: "[REDACTED]",     // âœ… Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾
  token: "[REDACTED]",        // âœ… Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾
  apiKey: "[REDACTED]"        // âœ… Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾
};
```

### 2. Row Level Security (RLS)
```sql
-- ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ²Ğ¸Ğ´ÑÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ²Ğ¾Ğ¸ Ğ»Ğ¾Ğ³Ğ¸
CREATE POLICY "Users can view their own logs"
  ON application_logs FOR SELECT
  USING (auth.uid() = user_id);

-- ĞĞ´Ğ¼Ğ¸Ğ½Ñ‹ Ğ²Ğ¸Ğ´ÑÑ‚ Ğ²ÑĞµ
CREATE POLICY "Admins can view all logs"
  ON application_logs FOR SELECT
  USING (
    EXISTS (
      SELECT 1 FROM admin_users
      WHERE admin_users.id = auth.uid()
    )
  );
```

---

## ğŸ“ˆ ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

### Buffer Strategy
- **Ğ Ğ°Ğ·Ğ¼ĞµÑ€ Ğ±ÑƒÑ„ĞµÑ€Ğ°:** 10 Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
- **Flush Ğ¸Ğ½Ñ‚ĞµÑ€Ğ²Ğ°Ğ»:** 5 ÑĞµĞºÑƒĞ½Ğ´
- **ĞĞµĞ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¹ flush:** Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ errors

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ timeline:
```
0.0s: info log â†’ buffer [1]
0.1s: info log â†’ buffer [2]
0.2s: info log â†’ buffer [3]
0.3s: info log â†’ buffer [4]
...
0.9s: info log â†’ buffer [10]  â—„â”€â”€ buffer full
1.0s: FLUSH â†’ Supabase        â—„â”€â”€ batch insert (1 Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ)

vs Ğ±ĞµĞ· Ğ±ÑƒÑ„ĞµÑ€Ğ°:
0.0s: info log â†’ Supabase     â—„â”€â”€ 1 Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
0.1s: info log â†’ Supabase     â—„â”€â”€ 1 Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
0.2s: info log â†’ Supabase     â—„â”€â”€ 1 Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ
... (10 Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ²Ğ¼ĞµÑÑ‚Ğ¾ 1!)
```

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:** 90% Ğ¼ĞµĞ½ÑŒÑˆĞµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğº Ğ‘Ğ”!

### Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
```sql
-- Timestamp (DESC) - Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
CREATE INDEX idx_application_logs_timestamp
  ON application_logs(timestamp DESC);

-- Level - Ğ´Ğ»Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ° Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ñƒ
CREATE INDEX idx_application_logs_level
  ON application_logs(level);

-- User ID - Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ¿Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
CREATE INDEX idx_application_logs_user_id
  ON application_logs(user_id);

-- GIN Ğ½Ğ° JSONB - Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ° Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ context
CREATE INDEX idx_application_logs_context_gin
  ON application_logs USING gin(context);
```

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:**
```sql
-- Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ¸Ğ½Ğ´ĞµĞºÑÑ‹)
SELECT * FROM application_logs
WHERE level = 'error'          -- Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ idx_level
  AND user_id = 'uuid'         -- Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ idx_user_id
  AND created_at > NOW() - INTERVAL '7 days'  -- Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ idx_timestamp
ORDER BY created_at DESC
LIMIT 100;

-- ĞŸĞ¾Ğ¸ÑĞº Ğ² context (Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ GIN Ğ¸Ğ½Ğ´ĞµĞºÑ)
SELECT * FROM application_logs
WHERE context->>'feature' = 'Dashboard';  -- Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ idx_context_gin
```

---

## ğŸ”Œ Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğ¼ ĞºĞ¾Ğ´Ğ¾Ğ¼

### Ğ”Ğ¾ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ:
```typescript
// Ğ Ğ°Ğ·Ğ±Ñ€Ğ¾ÑĞ°Ğ½Ğ¾ Ğ¿Ğ¾ 74 Ñ„Ğ°Ğ¹Ğ»Ğ°Ğ¼
try {
  await saveData();
} catch (error) {
  console.error('Error:', error);
  toast.error('Something went wrong');
}
```

### ĞŸĞ¾ÑĞ»Ğµ Ğ²Ğ½ĞµĞ´Ñ€ĞµĞ½Ğ¸Ñ:
```typescript
import { errorHandler } from '@/core/logging';

try {
  await saveData();
} catch (error) {
  errorHandler.handle(error, 'Failed to save data');
}
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ°:**
- âœ… ĞœĞµĞ½ÑŒÑˆĞµ ĞºĞ¾Ğ´Ğ° (1 ÑÑ‚Ñ€Ğ¾ĞºĞ° Ğ²Ğ¼ĞµÑÑ‚Ğ¾ 2-3)
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ toast
- âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
- âœ… ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚ Ğ² Ğ‘Ğ”

---

## ğŸ¯ Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Result Pattern

```typescript
// Ğ¡Ñ‚Ğ°Ñ€Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± (exceptions)
async function getData(): Promise<Data> {
  const { data, error } = await api.get();
  if (error) throw new Error(error);
  return data;
}

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
try {
  const data = await getData();
  console.log(data);
} catch (error) {
  console.error(error);
}
```

```typescript
// ĞĞ¾Ğ²Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± (Result pattern)
async function getData(): Promise<Result<Data>> {
  const { data, error } = await api.get();
  if (error) return err(new ApiError(error));
  return ok(data);
}

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (Ğ±Ğ¾Ğ»ĞµĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
const result = await getData();

if (result.success) {
  console.log(result.data);  // TypeScript Ğ·Ğ½Ğ°ĞµÑ‚ Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ Data
} else {
  console.error(result.error);  // TypeScript Ğ·Ğ½Ğ°ĞµÑ‚ Ñ‡Ñ‚Ğ¾ ÑÑ‚Ğ¾ AppError
}
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ° Result pattern:**
- âœ… ĞĞµÑ‚ try-catch (Ğ±Ğ¾Ğ»ĞµĞµ Ñ‡Ğ¸ÑÑ‚Ñ‹Ğ¹ ĞºĞ¾Ğ´)
- âœ… Ğ¯Ğ²Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- âœ… Ğ›ÑƒÑ‡ÑˆĞ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- âœ… Ğ›ĞµĞ³Ñ‡Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ

---

## ğŸ“š Ğ¡Ğ²ÑĞ·ÑŒ Ñ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼Ğ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°Ğ¼Ğ¸

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Current System                           â”‚
â”‚                                                     â”‚
â”‚  React Query â”€â”€â”€â”€â”                                  â”‚
â”‚                  â”‚                                  â”‚
â”‚  useAuth â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â–º Components â”€â”€â–º ErrorBoundary â”‚
â”‚                  â”‚                         â”‚        â”‚
â”‚  Supabase â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚        â”‚
â”‚                                            â–¼        â”‚
â”‚                                     Logger Service  â”‚
â”‚                                            â”‚        â”‚
â”‚                                            â–¼        â”‚
â”‚                                  application_logs   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Future integrations (optional):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Future Enhancements                      â”‚
â”‚                                                     â”‚
â”‚  Logger â”€â”€â”€â”€â”                                       â”‚
â”‚             â”œâ”€â”€â–º Sentry (error monitoring)          â”‚
â”‚             â”œâ”€â”€â–º DataDog (APM)                      â”‚
â”‚             â”œâ”€â”€â–º LogRocket (session replay)         â”‚
â”‚             â””â”€â”€â–º Slack (critical alerts)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹?** Ğ¡Ğ¼Ğ¾Ñ‚Ñ€Ğ¸Ñ‚Ğµ `src/core/README.md` Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ¾Ğ² Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ.
